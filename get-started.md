# Начало работы

1.  Склонируйте репозиторий
2.  Перейдите в папку с проектом и выполните команду `npm install`
3.  Выполните пкоманду `bower install`
4.  Выполните команду `gulp` для начала работы с проектом или `gulp build` только для сборки проекта.

### Другие команды gulp
* `gulp clean` - очищает папку build  
* `gupl sprites` - перегенерация спрайтов

### Добавление нового блока в верстку
1.  Определите к какому из слоев (foundation, base, project или cosmetic) относится новый блок. Чаще всего это либо base, либо project
2.  В каталоге `/source/blocks/НАЗВАНИЕ_СЛОЯ/` создайте папку с названием блока. Название блока совпадает с его CSS-классом.
3.  В созданную папке блока добавьте следующие файлы:  
    * `_block.jade` - миксин блока. Данный файл не обязательно должен присутствовать в структуре блока. Он нужен тогда, когда блок может использоваться на странице/ах с разными параметрами;
    * `block.jade` - шаблон блока, используется для подключения блока на страницу с помощью `include`. Если у блока есть миксин `_block.jade`, то содержимое `block.jade` - это вызов данного миксина. Иначе - это обычный jade-шаблон.
    * `block.styl` - стили блока *(не обязательный)*;
    * `block.js` - javascript блока *(не обязательный)*;
    * каталог `i/` - содержит изображения, относящиеся к блоку *(не обязательный)*;
    * каталог `i/sprite/` - содержит изображения, которые попадут в общий **png**-спрайт `build/f/i/sprite-icons.png`;
    * каталог `i/sprite@2x/` - содержит изображения, которые попадут в общий **png**-спрайт `build/f/i/sprite-icons@2x.png`;
    * каталог `i/sprite-svg/` - содержит изображения, которые попадут в общий **svg**-спрайт;  
    , где `block` - имя блока.
4.  Подключите блок в нужном jade-шаблоне с помощью `mixin` или `include`.  
    Например в `/source/home.jade`:
    ```jade
    +news('Это первая новость')
    ```
    или
    ```jade
    include ../blocks/project/news/news.jade
    ```

### Рассмотрим содержимое одного блока на примера блока news
#### `_news.jade`
```jade
mixin news(title, date, desc)
    news
        news__title
            a(href="")= title
        news__date= date
        news__desc!= desc
```
#### `news.jade`
```jade
block news
    +news('Заголовок новости', '10.05.2016', 'Краткое описание новости')
```
#### `news.styl`
```
@import '../../foundation/_import' //подключаем переменные и миксины
.news
    border: 1px solid #eee;
    &__title
        font-size: 20px;
    &__date
        font-size: 13px;
```
#### `news.js`
```javascript
// подключение необходимых модулей
var App = require('./App.js'); 
var bxSlider = require('jquery.bxslider');
// js блока news
console.log('Здесь javascript для блока news')
```
подключите `news.js` в `source/foundation/main.js`
```javascript
require('./mainmenu.js');
```
### Подключение нового js-плагина
...
### Изображения
Предпочтительный формат для иконок - svg.  
Svg-изображение можно использовать либо как фоновое изображение, либо как inline-svg.  
**Пример использования фонового svg в news.styl:**
```
.news__icon-internet
    background-image: url("../i/news/icon-internet.svg#datauri");
```
если указать `#datauri` после расширения изображения, то оно будет перекодировано в base64-формат.

**Пример использования inline-svg в news.jade:**  
```
svg.news__icon-internet
    use(xlink:href="#news-icon-internet")
```
При этом для генерации svg-спрайта в папке `source/blocks/project/news/i` необходимо создать папку `/sprite-svg`. В эту папку складываем все svg-изображения, которые хотим использовать inline-способом. Имя иконки, которая попадет в спрайт, должно начинаться с имени блока плюс “-” (в данном примере это `news-icon-internet`). Сам спрайт должен быть вставлен в html-документ как `<svg>`.

В случаях, когда svg-формат не подходит, возможно использование png, jpg или gif форматов. Небольшие png-картинки следует собирать в спрайт. Для этого в папке блока создаем папки `/i/sprite` и `/i/sprite@2x`. В первую папку кладем обычные иконки, во вторую иконки равно в 2 раза больше обычных. Имя иконки, которая попадет в спрайт, должно начинаться с имени блока плюс “-”. Имена соответствующих иконок в обоих папках совпадают.

**Пример использования png из спрайта с учетом retina:**  
```
.news__icon-internet
	sprite($news-icon-internet);
```
, где `news-icon-internet` - имя png-изображения.

**Пример использования png без спрайта:**  
```
.news__icon-internet
	background: url("../i/news/news-icon-internet.png#datauri") repeat-x 0 0;
```
если указать “#datauri” после расширения изображения, то оно будет перекодировано в base64-формат.
