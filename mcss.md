# Система организации CSS
Система организации CSS основана на принципах MCSS (многослойный CSS).  
Вёрстка страниц делится на блоки, каждый из которых сам по себе независим и максимально абстрагирован от фиксированных размеров и местоположения. В свою очередь блоки распределяются по слоям, каждый из которых имеет свой свод правил использования и взаимодействия с другими блоками.  
Предполагается разделение всех стилей на 4 слоя + 1 псевдослой:  

1.  Foundation (normalize.css, стили тегов).
2.  Base (стили базовых блоков).
3.  Project (стили остальных блоков).
4.  Cosmetic (косметические стили).
5.  Context (контекст) не выделяется в отдельный слой, может располагаться по всем слоям.

---
## Слой foundation
Закладывает основу стилей. Данный слой содержит normalize.css и typography.css
В typography.css находятся стили для тегов типографики согласно гайдлайну сайта (`<h1>, …, <h6>, <p>, <ul>, <ol>, <blockquote> `и т.п.). В него же входят стили по-умолчанию для ссылок (`<a>`), начертание и размер шрифта для `<body>`. Typography.css позволит формировать простые статьи на сайте согласно гайдлайну, используя теги без классов.  
В foundation.css нельзя использовать селекторы классов. Foundation.css подключается самым первым на всех страницах.

---
## Слой base
Базовый слой - это стилевой фреймфорк, который состоит из часто используемых блоков. К таким блокам относятся кнопки, текстовые поля, чекбоксы, радиокнопки, выпадающие списки, формы, всплывающие подсказки, различные виды маркированных/нумерованных списков, .clearfix и другие. К base.css также относится мультиколоночная сетка.  
Основные критерии, по которым можно отнести тот или иной блок к base.css:
* часто используется на разных страницах сайта;
* небольшой;
* не может содержать других блоков внутри себя (не всегда может соблюдаться).

Такие, часто используемые блоки, как шапка, подвал не относятся к слою base.
### Правила базового слоя
Основное правило базового слоя — абстрактность как в названиях, так и в разметке. Названия классов этого слоя не должны выглядеть чужеродно в любом месте на сайте. Блоки должны иметь стиль по умолчанию, но должны оставаться простыми и легко модифицируемыми под задачи различных проектных блоков.  
Стили базового слоя могут быть модифицированы каскадом от других блоков этого же слоя и от блоков проектного слоя.
Например:  
В base.css
```
.form-field .btn { }
```
`.form-field` - контейнер для поля формы (слой base), `.btn` - кнопка (слой base)  

В project.css  
```
.news .btn { }
```
`.news` - блок новости (слой project), `.btn` - кнопка (слой base)  

Модификация проектного слоя от базового запрещена!  
`.form-field .news {}` не правильно!  
В таких случаях необходимо использовать модификатор блока `.news`
```
.news { }
.news_in-form { }
```
Base.css подключается после foundation.css на всех страницах сайта.  

---
## Слой project
Проектный слой содержит стили отдельных блоков сайта, не вошедших в базовый слой. Примеры блоков проектного слоя: шапка, подвал, блок новости, корзина и др. Каждый блок должен быть максимально изолирован и существовать как отдельная, независимая единица интерфейса.  
В html-коде проектного блока можно использовать блоки базового слоя. При этом в CSS коде можно каскадом модифицировать блок базового слоя.
```html
<div class=”product-card”>
  <button class=”btn”>Купить<button>
</div>
```
```css
.product-card .btn { }
```
Стили проектного слоя могут быть модифицированы каскадом только от других блоков этого слоя.  
*Данный файл стилей может собираться не из всех блоков, а только из тех, которые используется на конкретной странице.*
Project.css подключается после базового слоя.

---
## Слой cosmetic
В данном слое содержатся вспомогательные, простые, незначительно влияющие на внешний вид стили. В косметическом слое допускается использование !important.  
Например:  
```css
.mt-10 {margin-top: 10px !important;}
.pb-5 {padding-bottom: 10px !important;}
.fs-12 {font-size: 12px;}
.tac {text-align: center;}
.fl {float: left;}
```
Стили таких классов не могут менять свое значение с течением времени. Также их нельзя модифицировать каскадом от других слоёв.  
Стили косметического слоя должны быть построены так, чтобы при их удалении вёрстка не ломалась. Максимум могут теряться какие-то незначительные стили — размер шрифта, отступы и пр.  
Слой cosmetic позволяет решить проблему с дублированием стилей и описывать редкие, непроектные ситуации, не плодя лишние модификаторы блоков. Однако такие стили следует как можно реже использовать при верстке отдельных блоков.  
Cosmetic.css подключается самым последним файлом стилей на всех страницах сайта.

---
## Слой context
Слой включает в себя стили высшего контекста и @media-правила, которые могут использоваться для изменения стандартных стилей под особенности различного контекста:
* `.ie9` — браузеры
* `.touch`, `.no-boxshadow` — особенности браузера или устройства
* Media queries

Слой контекста является исключением из правил расположения стилей. Стили этого слоя не выделяются в отдельный файл, а располагаются по всем слоям, рядом с селекторами, которые каскадом модифицируются от контекста.
```css
.menu { }
.ie9 .menu { }
@media screen and (max-width: 1000px) {
  .menu { }
}
```
Контекстные стили могут модифицировать каскадом любые стили других слоев, кроме стилей косметического слоя.

